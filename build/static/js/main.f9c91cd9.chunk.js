(this.webpackJsonpsuci=this.webpackJsonpsuci||[]).push([[2],{141:function(e,n,r){},143:function(e,n,r){"use strict";r.r(n);var t=r(10),a=r(1),o=r.n(a),c=r(41),i=r.n(c),d=r(176),u=r(122),s=r(78),l=r(77),f=r(79),p=Object(u.a)({palette:{primary:{light:s.a[300],main:s.a[700],dark:s.a[800],contrastText:"#fff"},secondary:{light:l.a[300],main:l.a[500],dark:l.a[800],contrastText:"#fff"},success:{light:f.a[300],main:f.a[500],dark:f.a[800],contrastText:"#fff"}}}),b=r(167),h=r(169),y=r(171),j=r(173),O=r(174),_=r(172),m=r(177),E=r.p+"static/media/suci_logo.101da3ff.png",x=[{id:1,path:"/floor",title:"Salon"},{id:2,path:"/kitchen",title:"Cocina"},{id:3,path:"/till",title:"Caja"}],g=r(61),v=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),R=function(){var e=v();return Object(t.jsx)("div",{className:e.root,children:Object(t.jsx)(h.a,{position:"static",children:Object(t.jsxs)(y.a,{children:[Object(t.jsx)(_.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(t.jsx)(m.a,{alt:"Suci",src:E})}),Object(t.jsx)(j.a,{variant:"h6",className:e.title,children:"SUCI"}),x.map((function(e){var n=e.id,r=e.path,a=e.title;return Object(t.jsx)(g.b,{style:{color:"black",textDecoration:"none",marginLeft:"20px"},to:r,exact:!0,activeStyle:{color:"white"},children:a},n)})),Object(t.jsx)(O.a,{color:"inherit",style:{marginLeft:"50px"},children:""})]})})})},D=r(14),S=r(175),I=r(95),T=r(59),A=r(22),k=Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(5),r.e(9)]).then(r.bind(null,268))})),w=Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(1),r.e(8)]).then(r.bind(null,269))})),M=Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(1),r.e(6),r.e(10)]).then(r.bind(null,271))})),P=Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(7)]).then(r.bind(null,272))}));var C=Object(T.b)(null,(function(e){return{fetchOrders:function(n){return e(Object(A.w)(n))}}}))((function(e){var n=e.fetchOrders,r=Object(S.useQuery)(I.b),o=r.loading,c=r.error,i=r.data;return Object(a.useEffect)((function(){i&&i.orders.length>0&&n(i.orders),console.log("Data orders: ",i),console.log("loading orders: ",o),console.log("error orders: ",c)}),[o]),Object(t.jsx)(d.a,{theme:p,children:Object(t.jsxs)(g.a,{children:[Object(t.jsx)(R,{}),Object(t.jsx)(a.Suspense,{fallback:"Cargando...",children:Object(t.jsxs)(D.c,{children:[Object(t.jsx)(D.a,{path:"/",exact:!0,component:P}),Object(t.jsx)(D.a,{path:"/mozo/:order_id_param",exact:!0,component:k}),Object(t.jsx)(D.a,{path:"/kitchen",exact:!0,component:w}),Object(t.jsx)(D.a,{path:"/till",exact:!0,component:M}),Object(t.jsx)(D.a,{path:"/floor",exact:!0,component:P})]})})]})})})),N=(r(141),r(81)),H=r(49),L=r(21),z={orders:[]};var B=r(66),G={tables:[]};var Y=Object(H.b)({order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case A.j:return{orders:n.payload};case A.b:return{orders:[n.payload].concat(Object(L.a)(e.orders))};case A.c:return{orders:Object(L.a)(e.orders.map((function(e){return e._id===n.payload&&(e.closed=!e.closed),e})))};case A.n:return{orders:Object(L.a)(e.orders.filter((function(e){return e._id!==n.payload})))};case A.l:return{orders:Object(L.a)(e.orders.map((function(e){return e._id===n.payload&&(e.paid=!e.paid),e})))};case A.a:return{orders:Object(L.a)(e.orders.map((function(e){return e._id===n.payload.order_id&&(delete n.payload.order_id,void 0===e.dishes&&(e.dishes=[]),e.dishes=[n.payload].concat(Object(L.a)(e.dishes))),e})))};case A.m:return{orders:Object(L.a)(e.orders.map((function(e){return e._id===n.payload.order_id&&(e.dishes=e.dishes.filter((function(e){return e._id!==n.payload._id}))),e})))};case A.k:return{orders:Object(L.a)(e.orders.map((function(e){return e._id===n.payload.order_id&&e.dishes.forEach((function(e){e._id===n.payload._id&&(e.count+=1)})),e})))};case A.d:return{orders:Object(L.a)(e.orders.map((function(e){return e._id===n.payload.order_id&&e.dishes.forEach((function(e){e._id===n.payload._id&&(e.count-=1)})),e})))};case A.f:return console.log(n.payload.dishes),{orders:Object(L.a)(e.orders.map((function(e){return e._id===n.payload.order_id&&n.payload.dishes.forEach((function(n){e.dishes.forEach((function(e){e._id===n&&(e.state="ready")}))})),e})))};case A.e:return{orders:Object(L.a)(e.orders.map((function(e){return e._id===n.payload.order_id&&n.payload.dishes.forEach((function(n){e.dishes.forEach((function(e){e._id===n&&(e.state="preparing")}))})),e})))};case A.g:return{orders:Object(L.a)(e.orders.map((function(e){return e._id===n.payload.order_id&&e.dishes.forEach((function(e){e._id===n.payload.dish_id&&(e.state="delivered")})),e})))};case A.i:return{orders:Object(L.a)(e.orders.map((function(e){return e._id===n.payload.order_id&&e.dishes.forEach((function(e){e._id===n.payload.dish_id&&(e.state="ready")})),e})))};case A.h:return{orders:Object(L.a)(e.orders.map((function(e){return e._id===n.payload.order_id&&e.dishes.forEach((function(e){e._id===n.payload.dish_id&&(e.state="preparing")})),e})))};default:return e}},table:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case B.a:return{tables:n.payload};case B.b:return{tables:Object(L.a)(e.tables.map((function(e){return e.number===n.payload.number&&(e.free=!e.free,e.order=n.payload.order_id_param),e})))};case B.c:return{tables:Object(L.a)(e.tables.map((function(e){return e.number===n.payload&&(e.free=!e.free,delete e.order),e})))};default:return e}}}),F=Object(H.c)(Y),V=new N.a({uri:"http://13de335f-c6f0-4042-aa08-38e3c58a078b.clouding.host:3600/"});i.a.render(Object(t.jsx)(o.a.StrictMode,{children:Object(t.jsx)(S.ApolloProvider,{client:V,children:Object(t.jsx)(T.a,{store:F,children:Object(t.jsx)(C,{})})})}),document.getElementById("root"))},22:function(e,n,r){"use strict";r.d(n,"j",(function(){return t})),r.d(n,"b",(function(){return a})),r.d(n,"c",(function(){return o})),r.d(n,"n",(function(){return c})),r.d(n,"l",(function(){return i})),r.d(n,"a",(function(){return d})),r.d(n,"m",(function(){return u})),r.d(n,"k",(function(){return s})),r.d(n,"d",(function(){return l})),r.d(n,"e",(function(){return f})),r.d(n,"f",(function(){return p})),r.d(n,"g",(function(){return b})),r.d(n,"i",(function(){return h})),r.d(n,"h",(function(){return y})),r.d(n,"w",(function(){return j})),r.d(n,"p",(function(){return O})),r.d(n,"q",(function(){return _})),r.d(n,"A",(function(){return m})),r.d(n,"o",(function(){return E})),r.d(n,"z",(function(){return x})),r.d(n,"x",(function(){return g})),r.d(n,"u",(function(){return v})),r.d(n,"v",(function(){return R})),r.d(n,"r",(function(){return D})),r.d(n,"t",(function(){return S})),r.d(n,"s",(function(){return I})),r.d(n,"y",(function(){return T}));var t="FETCH_ORDERS",a="ADD_ORDER",o="CLOSE_ORDER",c="REMOVE_ORDER",i="PAY_ORDER",d="ADD_ITEM",u="REMOVE_ITEM",s="INCREMENT_ITEM",l="DECREMENT_ITEM",f="DISHES_PREPARING_ORDER",p="DISHES_READY_ORDER",b="DISH_DELIVERED",h="DISH_READY",y="DISH_PREPARING",j=function(e){return{type:t,payload:e}},O=function(e){return{type:a,payload:e}},_=function(e){return{type:o,payload:e}},m=function(e){return{type:c,payload:e}},E=function(e){return{type:d,payload:e}},x=function(e){return{type:u,payload:e}},g=function(e){return{type:s,payload:e}},v=function(e){return{type:l,payload:e}},R=function(e){return{type:f,payload:e}},D=function(e){return{type:b,payload:e}},S=function(e){return{type:h,payload:e}},I=function(e){return{type:y,payload:e}},T=function(e){return{type:i,payload:e}}},66:function(e,n,r){"use strict";r.d(n,"a",(function(){return t})),r.d(n,"b",(function(){return a})),r.d(n,"c",(function(){return o})),r.d(n,"d",(function(){return c})),r.d(n,"e",(function(){return i})),r.d(n,"f",(function(){return d}));var t="FETCH_TABLES",a="MODIFY_TABLE",o="RESET_TABLE",c=function(e){return{type:t,payload:e}},i=function(e){return{type:a,payload:e}},d=function(e){return{type:o,payload:e}}},95:function(e,n,r){"use strict";r.d(n,"a",(function(){return u})),r.d(n,"b",(function(){return s})),r.d(n,"c",(function(){return l}));var t=r(62),a=r(36),o=r.n(a);function c(){var e=Object(t.a)(["\n  {\n    tables {\n      number\n      color\n      free\n      order\n    }\n  }\n"]);return c=function(){return e},e}function i(){var e=Object(t.a)(["\n  {\n    orders {\n      _id\n      number\n      date\n      time\n      table\n      closed\n      paid\n      dishes {\n        _id\n        name\n        price\n        category\n        count\n        state\n      }\n    }\n  }\n"]);return i=function(){return e},e}function d(){var e=Object(t.a)(["\n  {\n    dishes {\n      _id\n      name\n      price\n      category\n    }\n  }\n"]);return d=function(){return e},e}var u=o()(d()),s=o()(i()),l=o()(c())}},[[143,3,4]]]);
//# sourceMappingURL=main.f9c91cd9.chunk.js.map