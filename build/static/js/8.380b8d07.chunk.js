(this.webpackJsonpsuci=this.webpackJsonpsuci||[]).push([[8],{194:function(e,n,t){"use strict";t.d(n,"c",(function(){return v})),t.d(n,"a",(function(){return _})),t.d(n,"k",(function(){return g})),t.d(n,"i",(function(){return y})),t.d(n,"d",(function(){return x})),t.d(n,"l",(function(){return k})),t.d(n,"b",(function(){return $})),t.d(n,"j",(function(){return D})),t.d(n,"e",(function(){return I})),t.d(n,"f",(function(){return C})),t.d(n,"h",(function(){return E})),t.d(n,"g",(function(){return w}));var i=t(62),r=t(36),a=t.n(r);function c(){var e=Object(i.a)(["\n  # definici\xf3n de la mutaci\xf3n\n  mutation DishPreparing($order_id: ID!, $dish_id: ID!) {\n    # ejecuci\xf3n de la mutaci\xf3n\n    dishPreparing(order_id: $order_id, dish_id: $dish_id) {\n      dishes {\n        _id\n        count\n      }\n    }\n  }\n"]);return c=function(){return e},e}function o(){var e=Object(i.a)(["\n  # definici\xf3n de la mutaci\xf3n\n  mutation DishReady($order_id: ID!, $dish_id: ID!) {\n    # ejecuci\xf3n de la mutaci\xf3n\n    dishReady(order_id: $order_id, dish_id: $dish_id) {\n      _id\n      dishes {\n        _id\n        state\n      }\n    }\n  }\n"]);return o=function(){return e},e}function d(){var e=Object(i.a)(["\n  # definici\xf3n de la mutaci\xf3n\n  mutation DishDelivered($order_id: ID!, $dish_id: ID!) {\n    # ejecuci\xf3n de la mutaci\xf3n\n    dishDelivered(order_id: $order_id, dish_id: $dish_id) {\n      dishes {\n        _id\n        count\n      }\n    }\n  }\n"]);return d=function(){return e},e}function s(){var e=Object(i.a)(["\n  # definici\xf3n de la mutaci\xf3n\n  mutation DishReadyToOrder($order_id: ID!, $dishes: [ID]) {\n    # ejecuci\xf3n de la mutaci\xf3n\n    dishReadyToOrder(order_id: $order_id, dishes: $dishes) {\n      dishes {\n        _id\n      }\n    }\n  }\n"]);return s=function(){return e},e}function u(){var e=Object(i.a)(["\n  # definici\xf3n de la mutaci\xf3n\n  mutation DishPreparingToOrder($order_id: ID!, $dishes: [ID]) {\n    # ejecuci\xf3n de la mutaci\xf3n\n    dishPreparingToOrder(order_id: $order_id, dishes: $dishes) {\n      dishes {\n        _id\n      }\n    }\n  }\n"]);return u=function(){return e},e}function l(){var e=Object(i.a)(["\n  # definici\xf3n de la mutaci\xf3n\n  mutation PayOrder($order_id: ID!) {\n    # ejecuci\xf3n de la mutaci\xf3n\n    payOrder(order_id: $order_id) {\n      _id\n      paid\n    }\n  }\n"]);return l=function(){return e},e}function h(){var e=Object(i.a)(["\n  # definici\xf3n de la mutaci\xf3n\n  mutation CloseOrder($order_id: ID!) {\n    # ejecuci\xf3n de la mutaci\xf3n\n    closeOrder(order_id: $order_id) {\n      _id\n      table\n    }\n  }\n"]);return h=function(){return e},e}function b(){var e=Object(i.a)(["\n  # definici\xf3n de la mutaci\xf3n\n  mutation DeleteOrder($order_id: ID!) {\n    # ejecuci\xf3n de la mutaci\xf3n\n    deleteOrder(order_id: $order_id) {\n      _id\n      table\n    }\n  }\n"]);return b=function(){return e},e}function m(){var e=Object(i.a)(["\n  # definici\xf3n de la mutaci\xf3n\n  mutation IncrementDishToOrder($order_id: ID!, $dish_id: ID!) {\n    # ejecuci\xf3n de la mutaci\xf3n\n    decrementDishToOrder(order_id: $order_id, dish_id: $dish_id) {\n      dishes {\n        _id\n        count\n      }\n    }\n  }\n"]);return m=function(){return e},e}function f(){var e=Object(i.a)(["\n  # definici\xf3n de la mutaci\xf3n\n  mutation IncrementDishToOrder($order_id: ID!, $dish_id: ID!) {\n    # ejecuci\xf3n de la mutaci\xf3n\n    incrementDishToOrder(order_id: $order_id, dish_id: $dish_id) {\n      dishes {\n        _id\n        count\n      }\n    }\n  }\n"]);return f=function(){return e},e}function p(){var e=Object(i.a)(["\n  # definici\xf3n de la mutaci\xf3n\n  mutation PopDishToOrder($order_id: ID!, $dish_id: ID!) {\n    # ejecuci\xf3n de la mutaci\xf3n\n    popDishToOrder(order_id: $order_id, dish_id: $dish_id) {\n      dishes {\n        _id\n      }\n    }\n  }\n"]);return p=function(){return e},e}function j(){var e=Object(i.a)(["\n  # definici\xf3n de la mutaci\xf3n\n  mutation AddDishToOrder($order_id: ID!, $dish_id: ID!) {\n    # ejecuci\xf3n de la mutaci\xf3n\n    addDishToOrder(order_id: $order_id, dish_id: $dish_id) {\n      dishes {\n        _id\n        name\n        price\n        category\n        count\n        state\n      }\n    }\n  }\n"]);return j=function(){return e},e}function O(){var e=Object(i.a)(["\n  # definici\xf3n de la mutaci\xf3n\n  mutation CreateOrder($table: Int!) {\n    # ejecuci\xf3n de la mutaci\xf3n\n    createOrder(table: $table) {\n      _id\n      number\n      date\n      time\n      table\n      closed\n    }\n  }\n"]);return O=function(){return e},e}var v=a()(O()),_=a()(j()),g=a()(p()),y=a()(f()),x=a()(m()),k=a()(b()),$=a()(h()),D=a()(l()),I=a()(u()),C=(a()(s()),a()(d())),E=a()(o()),w=a()(c())},238:function(e,n,t){"use strict";var i=t(3),r=t(6),a=t(1),c=(t(13),t(12)),o=t(146),d=t(15),s=a.forwardRef((function(e,n){var t=e.classes,d=e.className,s=e.raised,u=void 0!==s&&s,l=Object(r.a)(e,["classes","className","raised"]);return a.createElement(o.a,Object(i.a)({className:Object(c.a)(t.root,d),elevation:u?8:1,ref:n},l))}));n.a=Object(d.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(s)},239:function(e,n,t){"use strict";var i=t(3),r=t(6),a=t(1),c=(t(13),t(12)),o=t(15),d=a.forwardRef((function(e,n){var t=e.classes,o=e.className,d=e.component,s=void 0===d?"div":d,u=Object(r.a)(e,["classes","className","component"]);return a.createElement(s,Object(i.a)({className:Object(c.a)(t.root,o),ref:n},u))}));n.a=Object(o.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(d)},241:function(e,n,t){"use strict";var i=t(3),r=t(6),a=t(1),c=(t(13),t(12)),o=t(94),d=t(188),s=t(199),u=t(15),l=t(172),h=a.forwardRef((function(e,n){var t=e.autoFocus,u=e.checked,h=e.checkedIcon,b=e.classes,m=e.className,f=e.defaultChecked,p=e.disabled,j=e.icon,O=e.id,v=e.inputProps,_=e.inputRef,g=e.name,y=e.onBlur,x=e.onChange,k=e.onFocus,$=e.readOnly,D=e.required,I=e.tabIndex,C=e.type,E=e.value,w=Object(r.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),N=Object(d.a)({controlled:u,default:Boolean(f),name:"SwitchBase",state:"checked"}),S=Object(o.a)(N,2),T=S[0],B=S[1],R=Object(s.a)(),z=p;R&&"undefined"===typeof z&&(z=R.disabled);var P="checkbox"===C||"radio"===C;return a.createElement(l.a,Object(i.a)({component:"span",className:Object(c.a)(b.root,m,T&&b.checked,z&&b.disabled),disabled:z,tabIndex:null,role:void 0,onFocus:function(e){k&&k(e),R&&R.onFocus&&R.onFocus(e)},onBlur:function(e){y&&y(e),R&&R.onBlur&&R.onBlur(e)},ref:n},w),a.createElement("input",Object(i.a)({autoFocus:t,checked:u,defaultChecked:f,className:b.input,disabled:z,id:P&&O,name:g,onChange:function(e){var n=e.target.checked;B(n),x&&x(e,n)},readOnly:$,ref:_,required:D,tabIndex:I,type:C,value:E},v)),T?h:j)})),b=Object(u.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(h),m=t(91),f=Object(m.a)(a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=Object(m.a)(a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),j=t(23),O=Object(m.a)(a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),v=t(18),_=a.createElement(p,null),g=a.createElement(f,null),y=a.createElement(O,null),x=a.forwardRef((function(e,n){var t=e.checkedIcon,o=void 0===t?_:t,d=e.classes,s=e.color,u=void 0===s?"secondary":s,l=e.icon,h=void 0===l?g:l,m=e.indeterminate,f=void 0!==m&&m,p=e.indeterminateIcon,j=void 0===p?y:p,O=e.inputProps,x=e.size,k=void 0===x?"medium":x,$=Object(r.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),D=f?j:h,I=f?j:o;return a.createElement(b,Object(i.a)({type:"checkbox",classes:{root:Object(c.a)(d.root,d["color".concat(Object(v.a)(u))],f&&d.indeterminate),checked:d.checked,disabled:d.disabled},color:u,inputProps:Object(i.a)({"data-indeterminate":f},O),icon:a.cloneElement(D,{fontSize:void 0===D.props.fontSize&&"small"===k?k:D.props.fontSize}),checkedIcon:a.cloneElement(I,{fontSize:void 0===I.props.fontSize&&"small"===k?k:I.props.fontSize}),ref:n},$))}));n.a=Object(u.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(j.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(j.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(x)},269:function(e,n,t){"use strict";t.r(n),t.d(n,"Kitchen",(function(){return q}));var i=t(10),r=t(1),a=t(191),c=t(167),o=t(238),d=t(3),s=t(6),u=(t(13),t(12)),l=t(15),h=r.forwardRef((function(e,n){var t=e.disableSpacing,i=void 0!==t&&t,a=e.classes,c=e.className,o=Object(s.a)(e,["disableSpacing","classes","className"]);return r.createElement("div",Object(d.a)({className:Object(u.a)(a.root,c,!i&&a.spacing),ref:n},o))})),b=Object(l.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(h),m=t(239),f=t(177),p=t(173),j=t(264),O=t(270),v=t(94),_=t(273),g=t(98),y=t(200),x=t(212),k=t(58),$={entering:{opacity:1},entered:{opacity:1}},D={enter:g.b.enteringScreen,exit:g.b.leavingScreen},I=r.forwardRef((function(e,n){var t=e.children,i=e.disableStrictModeCompat,a=void 0!==i&&i,c=e.in,o=e.onEnter,u=e.onEntered,l=e.onEntering,h=e.onExit,b=e.onExited,m=e.onExiting,f=e.style,p=e.TransitionComponent,j=void 0===p?_.a:p,O=e.timeout,g=void 0===O?D:O,I=Object(s.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),C=Object(y.a)(),E=C.unstable_strictMode&&!a,w=r.useRef(null),N=Object(k.a)(t.ref,n),S=Object(k.a)(E?w:void 0,N),T=function(e){return function(n,t){if(e){var i=E?[w.current,n]:[n,t],r=Object(v.a)(i,2),a=r[0],c=r[1];void 0===c?e(a):e(a,c)}}},B=T(l),R=T((function(e,n){Object(x.b)(e);var t=Object(x.a)({style:f,timeout:g},{mode:"enter"});e.style.webkitTransition=C.transitions.create("opacity",t),e.style.transition=C.transitions.create("opacity",t),o&&o(e,n)})),z=T(u),P=T(m),M=T((function(e){var n=Object(x.a)({style:f,timeout:g},{mode:"exit"});e.style.webkitTransition=C.transitions.create("opacity",n),e.style.transition=C.transitions.create("opacity",n),h&&h(e)})),F=T(b);return r.createElement(j,Object(d.a)({appear:!0,in:c,nodeRef:E?w:void 0,onEnter:R,onEntered:z,onEntering:B,onExit:M,onExited:F,onExiting:P,timeout:g},I),(function(e,n){return r.cloneElement(t,Object(d.a)({style:Object(d.a)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},$[e],f,t.props.style),ref:S},n))}))})),C=r.forwardRef((function(e,n){var t=e.children,i=e.classes,a=e.className,c=e.invisible,o=void 0!==c&&c,l=e.open,h=e.transitionDuration,b=e.TransitionComponent,m=void 0===b?I:b,f=Object(s.a)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return r.createElement(m,Object(d.a)({in:l,timeout:h},f),r.createElement("div",{className:Object(u.a)(i.root,a,o&&i.invisible),"aria-hidden":!0,ref:n},t))})),E=Object(l.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(C),w=t(196),N=t.n(w),S=t(197),T=t(267),B=t(241),R=t(59),z=t(22),P=t(175),M=t(194),F=Object(R.b)(null,(function(e){return{changeDishReady:function(n){return e(Object(z.t)(n))},changeDishPreaping:function(n){return e(Object(z.s)(n))}}}))((function(e){var n=e.order,t=e.changeDishReady,r=e.changeDishPreaping,c=n[0].dishes.filter((function(e){return"pending"!==e.state})),o=n[0]._id,d=Object(P.useMutation)(M.h),s=Object(a.a)(d,1)[0],u=Object(P.useMutation)(M.g),l=Object(a.a)(u,1)[0],h=function(){var e=Object(S.a)(N.a.mark((function e(n,i){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("preparing"!==i){e.next=6;break}return t({order_id:o,dish_id:n}),e.next=4,s({variables:{order_id:o,dish_id:n}}).then((function(e){})).catch((function(e){console.log(e)}));case 4:e.next=9;break;case 6:return r({order_id:o,dish_id:n}),e.next=9,l({variables:{order_id:o,dish_id:n}}).then((function(e){})).catch((function(e){console.log(e)}));case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return Object(i.jsx)(j.a,{container:!0,direction:"column",alignItems:"center",children:c.map((function(e,n){var t=e._id,r=e.name,a=e.state,c=e.count;return Object(i.jsx)(j.a,{item:!0,children:Object(i.jsxs)(j.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between",children:[Object(i.jsx)(T.a,{style:{width:200},children:Object(i.jsx)(p.a,{style:{textDecorationLine:"delivered"===a?"line-through":"none"},children:r})}),Object(i.jsx)(T.a,{style:{width:50},children:Object(i.jsx)(p.a,{style:{textDecorationLine:"delivered"===a?"line-through":"none"},children:c})}),Object(i.jsx)(T.a,{style:{width:50},children:("preparing"===a||"ready"===a)&&Object(i.jsx)(B.a,{checked:"pending"!==a&&"preparing"!==a,onChange:function(){h(t,a)},color:"primary"})})]},n)})}))})})),H=Object(c.a)((function(e){return{root:{width:275,margin:10},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{width:400,backgroundColor:e.palette.background.paper,borderRadius:15,outline:"none",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},rowContainer:{direction:"row",alignItems:"center",justify:"space-between"},semaforo:{fontSize:12,color:"red"}}})),L=Object(R.b)((function(e){return{orders:e.order.orders}}),(function(e){return{close:function(n){return e(Object(z.q)(n))}}}))((function(e){var n=e.orders,t=H(),c=Object(r.useState)(!1),d=Object(a.a)(c,2),s=d[0],u=d[1],l=Object(r.useState)(""),h=Object(a.a)(l,2),v=h[0],_=h[1],g=n[0];void 0!==v&&""!==v&&(g=n.filter((function(e){return e._id===v})));var y=[];if(void 0!==n&&void 0!==g.dishes){var x=g.dishes;y=x.filter((function(e){return"preparing"===e.state}))}return Object(i.jsxs)(j.a,{container:!0,justify:"center",children:[void 0!==n&&n.map((function(e,n){var r=e.date,a=e.time,c=e.table,d=e._id,s=e.number,l=e.closed;return Object(i.jsx)(j.a,{item:!0,children:Object(i.jsxs)(o.a,{className:t.root,onClick:function(){_(d),u(!0)},children:[Object(i.jsxs)(m.a,{children:[Object(i.jsxs)(p.a,{className:t.title,color:"textSecondary",gutterBottom:!0,children:["Fecha : ",r," "," - "," hora ",a]}),Object(i.jsxs)(p.a,{variant:"h6",component:"h2",children:["Comanda: ",s]}),Object(i.jsxs)(p.a,{className:t.pos,color:"textSecondary",children:["Mesa: ",c]}),y.length>0&&Object(i.jsx)(f.a,{style:{width:20,height:20,color:"red",backgroundColor:"black"},children:y.length})]}),Object(i.jsx)(b,{children:Object(i.jsx)(j.a,{container:!0,className:t.rowContainer,children:Object(i.jsx)(p.a,{className:t.semaforo,children:l?"Cerrada":"Abierta"})})})]})},d)})),Object(i.jsx)(O.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:s,onClose:function(){u(!1)},closeAfterTransition:!0,BackdropComponent:E,BackdropProps:{timeout:500},children:Object(i.jsx)(I,{in:s,children:Object(i.jsx)("div",{className:t.paper,children:Object(i.jsx)(F,{order:g})})})})]})})),q=function(){return Object(i.jsx)(L,{})};n.default=q}}]);
//# sourceMappingURL=8.380b8d07.chunk.js.map